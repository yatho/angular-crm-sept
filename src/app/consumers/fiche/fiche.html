<mat-card>
  <mat-card-content>
    <h1>Fiche consommateur</h1>
    <form (ngSubmit)="onSubmit()" [formGroup]="consumerForm" id="consumerForm">
      <p>
        <mat-form-field>
          <mat-select id="civility" formControlName="civility" placeholder="Civilité">
            <mat-option value="Mr">Mr</mat-option>
            <mat-option value="Mme">Mme</mat-option>
          </mat-select>
        </mat-form-field>
        <crm-form-error
          [field]="consumerForm.controls.civility"
          [errorMessages]="{ required: 'Choisissez une civilité' }"
        />
      </p>
      <p>
        <mat-form-field>
          <mat-label for="firstname">Prénom</mat-label>
          <input formControlName="firstname" id="firstname" matInput type="text" />
        </mat-form-field>
        <crm-form-error
          [field]="consumerForm.controls.firstname"
          [errorMessages]="{
            required: 'Entrez le prénom',
          }"
        />
      </p>
      <p>
        <mat-form-field>
          <mat-label for="lastname">Nom</mat-label>
          <input formControlName="lastname" id="lastname" matInput type="text" />
        </mat-form-field>
        <crm-form-error
          [field]="consumerForm.controls.lastname"
          [errorMessages]="{
            required: 'Entrez le nom',
            minlength: 'Le nom doit avoir un minimum de 3 caractères.',
          }"
        />
      </p>
      <p>
        <mat-form-field>
          <mat-label for="email">Email</mat-label>
          <input formControlName="email" id="email" matInput type="text" />
        </mat-form-field>
        <crm-form-error
          [field]="consumerForm.controls.email"
          [errorMessages]="{
            required: 'Entrez l\'email',
            email: 'Format d\'email incorrect',
          }"
        />
      </p>
      <p>
        <mat-form-field>
          <mat-label for="phone">Téléphone</mat-label>
          <input formControlName="phone" id="phone" matInput maxlength="10" type="text" />
        </mat-form-field>
        <crm-form-error
          [field]="consumerForm.controls.phone"
          [errorMessages]="{
            required: 'Entrez le téléphone',
            minlength: 'Le téléphone doit avoir un minimum de 10 caractères.',
          }"
        />
      </p>
      <div class="buttons-bar">
        <!-- Bouton d'annulation -->
        <button
          (click)="cancel()"
          color="warn"
          id="cancelButton"
          mat-icon-button
          matTooltip="Annuler"
          type="button"
        >
          <mat-icon>cancel</mat-icon>
        </button>
        <!-- Bouton de validation du formulaire -->
        <button
          [disabled]="consumerForm.invalid"
          color="primary"
          id="validButton"
          mat-icon-button
          matTooltip="Valider"
          type="submit"
        >
          <mat-icon>check</mat-icon>
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
